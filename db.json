{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"themes/maupassant/source/css/default.css","path":"css/default.css","modified":1,"renderable":1},{"_id":"themes/maupassant/source/css/donate.css","path":"css/donate.css","modified":1,"renderable":1},{"_id":"themes/maupassant/source/donate/index.html","path":"donate/index.html","modified":1,"renderable":1},{"_id":"themes/maupassant/source/css/style.scss","path":"css/style.scss","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/AliPayQR.png","path":"img/AliPayQR.png","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/BTCQR.png","path":"img/BTCQR.png","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/WeChatQR.png","path":"img/WeChatQR.png","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/alipay.svg","path":"img/alipay.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/bitcoin.svg","path":"img/bitcoin.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/github.svg","path":"img/github.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/paypal.svg","path":"img/paypal.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/like.svg","path":"img/like.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/wechat.svg","path":"img/wechat.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/codeblock-resizer.js","path":"js/codeblock-resizer.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/donate.js","path":"js/donate.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/fancybox.js","path":"js/fancybox.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/search.js","path":"js/search.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/share.js","path":"js/share.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/smartresize.js","path":"js/smartresize.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/totop.js","path":"js/totop.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/gitment.browser.js","path":"js/gitment.browser.js","modified":1,"renderable":1}],"Cache":[{"_id":"themes/maupassant/atom.xml","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1532620888102},{"_id":"source/CNAME","hash":"795877453b6c0bfb1387d40a310d0e3e7c712913","modified":1532620888055},{"_id":"themes/maupassant/.travis.yml","hash":"0339959f29deddc365e8fe8bd85da524410b9a23","modified":1532620888101},{"_id":"themes/maupassant/LICENSE","hash":"f0ac2f92770650c9835183f79010c0d307b34acd","modified":1532620888101},{"_id":"themes/maupassant/README.md","hash":"3d4d9545a7aba6415e5b4b17dbd853724e6c98bc","modified":1532620888102},{"_id":"themes/maupassant/_config.yml","hash":"81105fd6872f76cab19abb54b34e7eaf4a1ba643","modified":1532620888102},{"_id":"themes/maupassant/package.json","hash":"f092433469eb87362e831326425a6a5c3c9fea0d","modified":1532620888116},{"_id":"source/_posts/2018-01-01-hello-world.md","hash":"ec185fc106c205df055407bf6b6fa6e5c9b98c5a","modified":1532622236184},{"_id":"source/_posts/2018-03-17-PPTP.md","hash":"28c769afc9a6a0b05e64bf828af09f64adddb740","modified":1532621962271},{"_id":"source/_posts/2018-03-18-IPSec.md","hash":"fec1a19f14bc6af04543bc2b19eb3ead081d33c2","modified":1532622050984},{"_id":"source/_posts/2018-03-19-frp.md","hash":"da4681cbfe1c7c3a6b1deaad603460aca0a9fae2","modified":1532621836638},{"_id":"source/_posts/2018-07-26-IPSec2.md","hash":"a9a79002751ab2df3a008d33f5871aff4f8f8e94","modified":1532621515338},{"_id":"themes/maupassant/languages/de-DE.yml","hash":"5d3556a885e355a8c2da65ef3e7b3ee36a628bfa","modified":1532620888103},{"_id":"themes/maupassant/languages/en.yml","hash":"9dc51349f64e882433957c00dc757366229e0269","modified":1532620888103},{"_id":"themes/maupassant/languages/es-ES.yml","hash":"58e1d04bcd1834fa9d2960e18e027abbbccbedc9","modified":1532620888103},{"_id":"themes/maupassant/languages/fr-FR.yml","hash":"b47906ec0abf867fb3e3360bc046b7afb68aee25","modified":1532620888104},{"_id":"themes/maupassant/languages/ko.yml","hash":"909a33e0befa6978e8e72157c6b415b48551ee31","modified":1532620888104},{"_id":"themes/maupassant/languages/ru.yml","hash":"2476a631f4d3c668de04af85a6c2c97ba2a57e96","modified":1532620888105},{"_id":"themes/maupassant/languages/zh-CN.yml","hash":"ffce5df2448a80dbad71da115c84b81f42a42778","modified":1532620888105},{"_id":"themes/maupassant/languages/zh-TW.yml","hash":"bf3ab970f2ab3f29ddeb9f59bf98163be635e284","modified":1532620888105},{"_id":"themes/maupassant/layout/archive.pug","hash":"665582bb4092fcd81bfaf4d08fc1689abee1e6c4","modified":1532620888113},{"_id":"themes/maupassant/layout/base-without-sidebar.pug","hash":"16c4d1079450f801b5ac079d3cc101856d8f387c","modified":1532620888113},{"_id":"themes/maupassant/layout/base.pug","hash":"a4e32bcb580b76af9ad0582d9d3f0107e34509ed","modified":1532620888114},{"_id":"themes/maupassant/layout/index.pug","hash":"0435a4e5f5c6976e05b3079d335453c246f5ba6e","modified":1532620888114},{"_id":"themes/maupassant/layout/page.pug","hash":"8cfd307b13cad8be34a1e75c4566f96c1722e08e","modified":1532620888114},{"_id":"themes/maupassant/layout/single-column.pug","hash":"0593f261dc208bb0b5c4232eb41eff597a291bd9","modified":1532620888115},{"_id":"themes/maupassant/layout/post.pug","hash":"d0325a145fadc81083e71264c651306b11e4962d","modified":1532620888115},{"_id":"themes/maupassant/layout/timeline.pug","hash":"84fbfc92ccdf291b491140d89557553141a5d3f9","modified":1532620888115},{"_id":"themes/maupassant/layout/_partial/after_footer.pug","hash":"b1156c2d3541fb186a11aea4b17aea3de96a0747","modified":1532620888106},{"_id":"themes/maupassant/layout/_partial/comments.pug","hash":"0f49096ac1df45009b65cb7335f130e2363d3916","modified":1532620888106},{"_id":"themes/maupassant/layout/_partial/footer.pug","hash":"650781b5bc8c632658ad6880ba663b1e3bfb5798","modified":1532620888107},{"_id":"themes/maupassant/layout/_partial/head.pug","hash":"ed2638cea80861e0f7cf0422e98dbca0cf544c3d","modified":1532620888108},{"_id":"themes/maupassant/layout/_partial/helpers.pug","hash":"acdf9e2d52ee86c831fa15ce1570930c5779bc78","modified":1532620888108},{"_id":"themes/maupassant/layout/_partial/mathjax.pug","hash":"9925dc2f58d600d3890111d694c76315f6b8b95b","modified":1532620888109},{"_id":"themes/maupassant/layout/_partial/mathjax2.pug","hash":"1202fc6685c368de8a8f080827fbbc285d86c274","modified":1532620888109},{"_id":"themes/maupassant/layout/_partial/paginator.pug","hash":"53f9cb77448e84a98da5eb688e2e12b173c555bb","modified":1532620888109},{"_id":"themes/maupassant/layout/_partial/post_nav.pug","hash":"a2d698c84bb6da08195fe870dbd7215f65388d3f","modified":1532620888110},{"_id":"themes/maupassant/layout/_partial/tag.pug","hash":"0f0e6770e9d5dd8040e330d71bbbfadd2df36a28","modified":1532620888110},{"_id":"themes/maupassant/layout/_partial/totop.pug","hash":"8225bbc3cdb9648bc2e6872e5c616a9a1e4def4f","modified":1532620888110},{"_id":"themes/maupassant/layout/_widget/category.pug","hash":"7c6aed762934ca51aa2669b886254da24b77bc14","modified":1532620888111},{"_id":"themes/maupassant/layout/_widget/links.pug","hash":"c45aa7ec00158579e58f1f8dfd890447bb5e5e54","modified":1532620888111},{"_id":"themes/maupassant/layout/_widget/recent_comments.pug","hash":"4102d446f13b02ff617f055c2a8f726bca12744a","modified":1532620888111},{"_id":"themes/maupassant/layout/_widget/recent_posts.pug","hash":"19431336d724d2118e46da43683bce9063176541","modified":1532620888112},{"_id":"themes/maupassant/layout/_widget/tag.pug","hash":"132f049ce677d0e38f50073174c4ee4b825d4a06","modified":1532620888112},{"_id":"themes/maupassant/layout/_widget/search.pug","hash":"6e8e4123cca38840c4607c1a056205972b82bb7b","modified":1532620888112},{"_id":"themes/maupassant/source/css/default.css","hash":"7fbb18b73b44ed11193739c55fce53a6f173cf68","modified":1532620888116},{"_id":"themes/maupassant/source/css/donate.css","hash":"d0079ba8202d925a93ab1cb44f2087b81f476755","modified":1532620888117},{"_id":"themes/maupassant/source/donate/index.html","hash":"88cc1b52c1d8ce455d7e819c356a50554e6d90bc","modified":1532620888118},{"_id":"themes/maupassant/source/css/style.scss","hash":"547bed40ce40b44bf527b02924df5be26472ac73","modified":1532620888118},{"_id":"themes/maupassant/source/img/AliPayQR.png","hash":"7787b5d91cbf0e19a1260df24f7d949771c7d45b","modified":1532620888119},{"_id":"themes/maupassant/source/img/BTCQR.png","hash":"7d1c80f953bfb6f0a37d432b04c936ea165bfd97","modified":1532620888119},{"_id":"themes/maupassant/source/img/WeChatQR.png","hash":"8c41aca7883e5ff714c56556f5fff8e7e7c38093","modified":1532620888119},{"_id":"themes/maupassant/source/img/alipay.svg","hash":"46cc0552a9f6d700d618db3fcad25e1b8e697e36","modified":1532620888120},{"_id":"themes/maupassant/source/img/bitcoin.svg","hash":"635f7cca5e675d192be2717788175c7a2146013a","modified":1532620888120},{"_id":"themes/maupassant/source/img/github.svg","hash":"90ba9a3b0dc19e70e742a39b014194f801e00f97","modified":1532620888121},{"_id":"themes/maupassant/source/img/paypal.svg","hash":"92f3bc495f20a0190d3041be03345c46d6238c25","modified":1532620888121},{"_id":"themes/maupassant/source/img/like.svg","hash":"22a2754dc454d7b0321b70914fb2936b8d2ea8ab","modified":1532620888121},{"_id":"themes/maupassant/source/img/wechat.svg","hash":"330496ad42446a29f37a2b97fc388ebd77a8cb9f","modified":1532620888122},{"_id":"themes/maupassant/source/js/codeblock-resizer.js","hash":"5d0b786d60bf225d9eabcc9cece2719ff4d9b6cd","modified":1532620888122},{"_id":"themes/maupassant/source/js/donate.js","hash":"780beaaf44b1e6c057752bdbc085b1048937e5e7","modified":1532620888123},{"_id":"themes/maupassant/source/js/fancybox.js","hash":"13c4781570339f4fba76a3d7f202e442817dd605","modified":1532620888123},{"_id":"themes/maupassant/source/js/search.js","hash":"0c0630e2ef213701d393b041f10572e951a27985","modified":1532620888125},{"_id":"themes/maupassant/source/js/share.js","hash":"a2f9de374523dc7f2ddb90ed5f24b668c20d9272","modified":1532620888125},{"_id":"themes/maupassant/source/js/smartresize.js","hash":"3ef157fd877167e3290f42c67a624ea375a46c24","modified":1532620888126},{"_id":"themes/maupassant/source/js/totop.js","hash":"7dbf8fcf582a4fb6eb9b2c60d6de9f9c2091ec4c","modified":1532620888126},{"_id":"themes/maupassant/source/js/gitment.browser.js","hash":"376446d9c5930576016f97dd63e5e6616c94d8d4","modified":1532620888124},{"_id":"public/atom.xml","hash":"b126b1230fe3fb802f2553dcf853868007383ee5","modified":1532622430296},{"_id":"public/2018/07/27/2018-07-26-IPSec2/index.html","hash":"136ac31b926bc112c34e63ab730698a31ff41c4e","modified":1532622430301},{"_id":"public/2018/07/27/2018-01-01-hello-world/index.html","hash":"911488d8931bc1a53aec6ca78c21a469c2a85623","modified":1532622430301},{"_id":"public/2018/07/27/2018-03-17-PPTP/index.html","hash":"ae288baefd4e8a79f88cab5c04a383ce32b0fa18","modified":1532622430301},{"_id":"public/2018/07/27/2018-03-18-IPSec/index.html","hash":"8427d36260bed29fb0888daff7c63cd5c264e646","modified":1532622430301},{"_id":"public/2018/07/27/2018-03-19-frp/index.html","hash":"7467c848248d7416681435e393a674820073d9e6","modified":1532622430302},{"_id":"public/archives/index.html","hash":"3fc7799c8b6295c7a54ee8f03208b0314d0dbdf5","modified":1532622430302},{"_id":"public/archives/2018/index.html","hash":"3fc7799c8b6295c7a54ee8f03208b0314d0dbdf5","modified":1532622430302},{"_id":"public/archives/2018/07/index.html","hash":"3fc7799c8b6295c7a54ee8f03208b0314d0dbdf5","modified":1532622430302},{"_id":"public/categories/技术/index.html","hash":"cf7ac4b7e66adda32b322ebb34a23163552e8b70","modified":1532622430302},{"_id":"public/index.html","hash":"ae3257f3bdf8679b6b57dfd753240bc591582e83","modified":1532622430304},{"_id":"public/tags/hexo/index.html","hash":"155d66dbc99855f191feae1e9597dc7f2cca7b04","modified":1532622430304},{"_id":"public/tags/内网穿透/index.html","hash":"10b9a0e6c0ac4985e4ab57f5ff88d844727c0347","modified":1532622430304},{"_id":"public/tags/VPN/index.html","hash":"492102c099fb9d16dff3733e9c3c9b93bb6d6e1b","modified":1532622430307},{"_id":"public/CNAME","hash":"795877453b6c0bfb1387d40a310d0e3e7c712913","modified":1532622430308},{"_id":"public/img/AliPayQR.png","hash":"7787b5d91cbf0e19a1260df24f7d949771c7d45b","modified":1532622430308},{"_id":"public/img/BTCQR.png","hash":"7d1c80f953bfb6f0a37d432b04c936ea165bfd97","modified":1532622430309},{"_id":"public/img/WeChatQR.png","hash":"8c41aca7883e5ff714c56556f5fff8e7e7c38093","modified":1532622430309},{"_id":"public/img/alipay.svg","hash":"46cc0552a9f6d700d618db3fcad25e1b8e697e36","modified":1532622430309},{"_id":"public/img/bitcoin.svg","hash":"635f7cca5e675d192be2717788175c7a2146013a","modified":1532622430309},{"_id":"public/img/github.svg","hash":"90ba9a3b0dc19e70e742a39b014194f801e00f97","modified":1532622430309},{"_id":"public/img/paypal.svg","hash":"92f3bc495f20a0190d3041be03345c46d6238c25","modified":1532622430309},{"_id":"public/img/wechat.svg","hash":"330496ad42446a29f37a2b97fc388ebd77a8cb9f","modified":1532622430309},{"_id":"public/img/like.svg","hash":"22a2754dc454d7b0321b70914fb2936b8d2ea8ab","modified":1532622430309},{"_id":"public/css/donate.css","hash":"d0079ba8202d925a93ab1cb44f2087b81f476755","modified":1532622430342},{"_id":"public/donate/index.html","hash":"88cc1b52c1d8ce455d7e819c356a50554e6d90bc","modified":1532622430342},{"_id":"public/js/codeblock-resizer.js","hash":"5d0b786d60bf225d9eabcc9cece2719ff4d9b6cd","modified":1532622430342},{"_id":"public/js/donate.js","hash":"89f0b9d9d0c4fce183161d29c2a44aef750efb27","modified":1532622430342},{"_id":"public/js/fancybox.js","hash":"13c4781570339f4fba76a3d7f202e442817dd605","modified":1532622430342},{"_id":"public/js/search.js","hash":"0c0630e2ef213701d393b041f10572e951a27985","modified":1532622430342},{"_id":"public/js/share.js","hash":"a2f9de374523dc7f2ddb90ed5f24b668c20d9272","modified":1532622430343},{"_id":"public/js/smartresize.js","hash":"3ef157fd877167e3290f42c67a624ea375a46c24","modified":1532622430343},{"_id":"public/js/totop.js","hash":"7dbf8fcf582a4fb6eb9b2c60d6de9f9c2091ec4c","modified":1532622430343},{"_id":"public/css/default.css","hash":"7fbb18b73b44ed11193739c55fce53a6f173cf68","modified":1532622430343},{"_id":"public/css/style.css","hash":"bec4cd8e3a4c354f5841226683a2acfac0c000f3","modified":1532622430343},{"_id":"public/js/gitment.browser.js","hash":"376446d9c5930576016f97dd63e5e6616c94d8d4","modified":1532622430343}],"Category":[{"name":"技术","_id":"cjk2rtnfn0002y7y29gc0hfax"}],"Data":[],"Page":[],"Post":[{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","source":"_posts/2018-01-01-hello-world.md","raw":"---\ntitle: Hello World\ncategories: 技术\ntags: hexo\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","slug":"2018-01-01-hello-world","published":1,"date":"2018-07-26T16:01:28.056Z","updated":"2018-07-26T16:23:56.184Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjk2rtnfh0000y7y29awexhhe","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n"},{"title":"搭建VPN服务之PPTP","_content":"### 2017-03-17 天气晴\n今天在vutlr上租了一个VPS，玩玩挺有意思，租VPS的一个重要用途就是搭建一个VPN服务，后续还将搭建一个frps做家中NAS的内网穿透。今天先整理下VPS上搭建VPN的步骤。\n### 零、主机环境\n```\nvutlr VPS + Ubuntu 16.04\n```\n### 一、安装VPN服务程序pptpd\n更新软件仓库列表，下载安装VPN服务程序pptpd\n```\napt-get update \n```\n```\nsudo apt-get install pptpd\n```\n\n### 二、配置pptpd程序\n打开配置文件，配置VPN内部网络，将pptpd.conf中如下两行配置打开注释并保存修改\n```\nsudo vi /etc/pptpd.conf\n```\n```\nlocalip 192.168.0.1\nremoteip 192.168.0.234-238,192.168.0.245\n```\n\n配置VPN登录的用户名密码列表，配置文件配置格式如下，username和password分别换成自定义的用户名密码，*表示允许该用户名密码在任何ip上登录VPN\n```\nsudo vi /etc/ppp/chap-secrets\n```\n```\nusername  pptpd  \"password\"  *\n```\n\n配置DNS,取消注释`ms-dns`，修改DNS，例如，8.8.8.8和8.8.4.4\n```\nsudo vi /etc/ppp/pptpd-options\n```\n```\n# If pppd is acting as a server for Microsoft Windows clients, this\n# option allows pppd to supply one or two DNS (Domain Name Server)\n# addresses to the clients.  The first instance of this option\n# specifies the primary DNS address; the second instance (if given)\n# specifies the secondary DNS address.\n# Attention! This information may not be taken into account by a Windows\n# client. See KB311218 in Microsoft's knowledge base for more information.\nms-dns 8.8.8.8\nms-dns 8.8.4.4\n```\n\n### 三、开启内核IP转发\n```\nsudo vi /etc/sysctl.conf\n```\n取消注释`net.ipv4.ip_forward=1`，修改配置保存，执行如下语句是配置修改生效\n```\nsudo sysctl -p\n```\n注：如下命令也可以开启内核的IP转发功能，但是据说重启后将恢复关闭内核IP转发，具体原理未细究\n```\necho 1 > /proc/sys/net/ipv4/ip_forward\n```\n\n### 四、配置IP转发规则\n安装iptables，配置NAT转发规则\n```\nsudo apt-get install iptables\nsudo iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -o ens3 -j MASQUERADE\n```\n第二行命令应该是指将 `192.168.0.xxx(192.168.0.0/24)`的子网的所有ip包都做该的nat的转发规则转发到ens3的网卡上，ens3是本文中服务器上连接外网的网卡设备名，本文使用的VPS服务器的外网网卡为ens3，其他环境中该名字以ifconfig中外网网卡的名称为准\n\n重启服务，应用配置\n```\nsudo service pptpd restart\n```\n\n### 五、开机启动生效NAT转发规则和启动pptpd\n设置开机启动\n打开/etc/rc.local文件，在exit 0语句前加入：\n```\nsudo iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -o ens3 -j MASQUERADE\nsudo service pptpd start\n```\n","source":"_posts/2018-03-17-PPTP.md","raw":"---\ntitle: 搭建VPN服务之PPTP\ncategories: 技术\ntags: VPN\n---\n### 2017-03-17 天气晴\n今天在vutlr上租了一个VPS，玩玩挺有意思，租VPS的一个重要用途就是搭建一个VPN服务，后续还将搭建一个frps做家中NAS的内网穿透。今天先整理下VPS上搭建VPN的步骤。\n### 零、主机环境\n```\nvutlr VPS + Ubuntu 16.04\n```\n### 一、安装VPN服务程序pptpd\n更新软件仓库列表，下载安装VPN服务程序pptpd\n```\napt-get update \n```\n```\nsudo apt-get install pptpd\n```\n\n### 二、配置pptpd程序\n打开配置文件，配置VPN内部网络，将pptpd.conf中如下两行配置打开注释并保存修改\n```\nsudo vi /etc/pptpd.conf\n```\n```\nlocalip 192.168.0.1\nremoteip 192.168.0.234-238,192.168.0.245\n```\n\n配置VPN登录的用户名密码列表，配置文件配置格式如下，username和password分别换成自定义的用户名密码，*表示允许该用户名密码在任何ip上登录VPN\n```\nsudo vi /etc/ppp/chap-secrets\n```\n```\nusername  pptpd  \"password\"  *\n```\n\n配置DNS,取消注释`ms-dns`，修改DNS，例如，8.8.8.8和8.8.4.4\n```\nsudo vi /etc/ppp/pptpd-options\n```\n```\n# If pppd is acting as a server for Microsoft Windows clients, this\n# option allows pppd to supply one or two DNS (Domain Name Server)\n# addresses to the clients.  The first instance of this option\n# specifies the primary DNS address; the second instance (if given)\n# specifies the secondary DNS address.\n# Attention! This information may not be taken into account by a Windows\n# client. See KB311218 in Microsoft's knowledge base for more information.\nms-dns 8.8.8.8\nms-dns 8.8.4.4\n```\n\n### 三、开启内核IP转发\n```\nsudo vi /etc/sysctl.conf\n```\n取消注释`net.ipv4.ip_forward=1`，修改配置保存，执行如下语句是配置修改生效\n```\nsudo sysctl -p\n```\n注：如下命令也可以开启内核的IP转发功能，但是据说重启后将恢复关闭内核IP转发，具体原理未细究\n```\necho 1 > /proc/sys/net/ipv4/ip_forward\n```\n\n### 四、配置IP转发规则\n安装iptables，配置NAT转发规则\n```\nsudo apt-get install iptables\nsudo iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -o ens3 -j MASQUERADE\n```\n第二行命令应该是指将 `192.168.0.xxx(192.168.0.0/24)`的子网的所有ip包都做该的nat的转发规则转发到ens3的网卡上，ens3是本文中服务器上连接外网的网卡设备名，本文使用的VPS服务器的外网网卡为ens3，其他环境中该名字以ifconfig中外网网卡的名称为准\n\n重启服务，应用配置\n```\nsudo service pptpd restart\n```\n\n### 五、开机启动生效NAT转发规则和启动pptpd\n设置开机启动\n打开/etc/rc.local文件，在exit 0语句前加入：\n```\nsudo iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -o ens3 -j MASQUERADE\nsudo service pptpd start\n```\n","slug":"2018-03-17-PPTP","published":1,"date":"2018-07-26T16:01:28.056Z","updated":"2018-07-26T16:19:22.271Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjk2rtnfl0001y7y22mfl3y1i","content":"<h3 id=\"2017-03-17-天气晴\"><a href=\"#2017-03-17-天气晴\" class=\"headerlink\" title=\"2017-03-17 天气晴\"></a>2017-03-17 天气晴</h3><p>今天在vutlr上租了一个VPS，玩玩挺有意思，租VPS的一个重要用途就是搭建一个VPN服务，后续还将搭建一个frps做家中NAS的内网穿透。今天先整理下VPS上搭建VPN的步骤。</p>\n<h3 id=\"零、主机环境\"><a href=\"#零、主机环境\" class=\"headerlink\" title=\"零、主机环境\"></a>零、主机环境</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vutlr VPS + Ubuntu 16.04</span><br></pre></td></tr></table></figure>\n<h3 id=\"一、安装VPN服务程序pptpd\"><a href=\"#一、安装VPN服务程序pptpd\" class=\"headerlink\" title=\"一、安装VPN服务程序pptpd\"></a>一、安装VPN服务程序pptpd</h3><p>更新软件仓库列表，下载安装VPN服务程序pptpd<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get update</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install pptpd</span><br></pre></td></tr></table></figure>\n<h3 id=\"二、配置pptpd程序\"><a href=\"#二、配置pptpd程序\" class=\"headerlink\" title=\"二、配置pptpd程序\"></a>二、配置pptpd程序</h3><p>打开配置文件，配置VPN内部网络，将pptpd.conf中如下两行配置打开注释并保存修改<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/pptpd.conf</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">localip 192.168.0.1</span><br><span class=\"line\">remoteip 192.168.0.234-238,192.168.0.245</span><br></pre></td></tr></table></figure>\n<p>配置VPN登录的用户名密码列表，配置文件配置格式如下，username和password分别换成自定义的用户名密码，*表示允许该用户名密码在任何ip上登录VPN<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/ppp/chap-secrets</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">username  pptpd  &quot;password&quot;  *</span><br></pre></td></tr></table></figure>\n<p>配置DNS,取消注释<code>ms-dns</code>，修改DNS，例如，8.8.8.8和8.8.4.4<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/ppp/pptpd-options</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># If pppd is acting as a server for Microsoft Windows clients, this</span><br><span class=\"line\"># option allows pppd to supply one or two DNS (Domain Name Server)</span><br><span class=\"line\"># addresses to the clients.  The first instance of this option</span><br><span class=\"line\"># specifies the primary DNS address; the second instance (if given)</span><br><span class=\"line\"># specifies the secondary DNS address.</span><br><span class=\"line\"># Attention! This information may not be taken into account by a Windows</span><br><span class=\"line\"># client. See KB311218 in Microsoft&apos;s knowledge base for more information.</span><br><span class=\"line\">ms-dns 8.8.8.8</span><br><span class=\"line\">ms-dns 8.8.4.4</span><br></pre></td></tr></table></figure>\n<h3 id=\"三、开启内核IP转发\"><a href=\"#三、开启内核IP转发\" class=\"headerlink\" title=\"三、开启内核IP转发\"></a>三、开启内核IP转发</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/sysctl.conf</span><br></pre></td></tr></table></figure>\n<p>取消注释<code>net.ipv4.ip_forward=1</code>，修改配置保存，执行如下语句是配置修改生效<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo sysctl -p</span><br></pre></td></tr></table></figure></p>\n<p>注：如下命令也可以开启内核的IP转发功能，但是据说重启后将恢复关闭内核IP转发，具体原理未细究<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo 1 &gt; /proc/sys/net/ipv4/ip_forward</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"四、配置IP转发规则\"><a href=\"#四、配置IP转发规则\" class=\"headerlink\" title=\"四、配置IP转发规则\"></a>四、配置IP转发规则</h3><p>安装iptables，配置NAT转发规则<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install iptables</span><br><span class=\"line\">sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -o ens3 -j MASQUERADE</span><br></pre></td></tr></table></figure></p>\n<p>第二行命令应该是指将 <code>192.168.0.xxx(192.168.0.0/24)</code>的子网的所有ip包都做该的nat的转发规则转发到ens3的网卡上，ens3是本文中服务器上连接外网的网卡设备名，本文使用的VPS服务器的外网网卡为ens3，其他环境中该名字以ifconfig中外网网卡的名称为准</p>\n<p>重启服务，应用配置<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo service pptpd restart</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"五、开机启动生效NAT转发规则和启动pptpd\"><a href=\"#五、开机启动生效NAT转发规则和启动pptpd\" class=\"headerlink\" title=\"五、开机启动生效NAT转发规则和启动pptpd\"></a>五、开机启动生效NAT转发规则和启动pptpd</h3><p>设置开机启动<br>打开/etc/rc.local文件，在exit 0语句前加入：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -o ens3 -j MASQUERADE</span><br><span class=\"line\">sudo service pptpd start</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"2017-03-17-天气晴\"><a href=\"#2017-03-17-天气晴\" class=\"headerlink\" title=\"2017-03-17 天气晴\"></a>2017-03-17 天气晴</h3><p>今天在vutlr上租了一个VPS，玩玩挺有意思，租VPS的一个重要用途就是搭建一个VPN服务，后续还将搭建一个frps做家中NAS的内网穿透。今天先整理下VPS上搭建VPN的步骤。</p>\n<h3 id=\"零、主机环境\"><a href=\"#零、主机环境\" class=\"headerlink\" title=\"零、主机环境\"></a>零、主机环境</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vutlr VPS + Ubuntu 16.04</span><br></pre></td></tr></table></figure>\n<h3 id=\"一、安装VPN服务程序pptpd\"><a href=\"#一、安装VPN服务程序pptpd\" class=\"headerlink\" title=\"一、安装VPN服务程序pptpd\"></a>一、安装VPN服务程序pptpd</h3><p>更新软件仓库列表，下载安装VPN服务程序pptpd<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get update</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install pptpd</span><br></pre></td></tr></table></figure>\n<h3 id=\"二、配置pptpd程序\"><a href=\"#二、配置pptpd程序\" class=\"headerlink\" title=\"二、配置pptpd程序\"></a>二、配置pptpd程序</h3><p>打开配置文件，配置VPN内部网络，将pptpd.conf中如下两行配置打开注释并保存修改<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/pptpd.conf</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">localip 192.168.0.1</span><br><span class=\"line\">remoteip 192.168.0.234-238,192.168.0.245</span><br></pre></td></tr></table></figure>\n<p>配置VPN登录的用户名密码列表，配置文件配置格式如下，username和password分别换成自定义的用户名密码，*表示允许该用户名密码在任何ip上登录VPN<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/ppp/chap-secrets</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">username  pptpd  &quot;password&quot;  *</span><br></pre></td></tr></table></figure>\n<p>配置DNS,取消注释<code>ms-dns</code>，修改DNS，例如，8.8.8.8和8.8.4.4<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/ppp/pptpd-options</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># If pppd is acting as a server for Microsoft Windows clients, this</span><br><span class=\"line\"># option allows pppd to supply one or two DNS (Domain Name Server)</span><br><span class=\"line\"># addresses to the clients.  The first instance of this option</span><br><span class=\"line\"># specifies the primary DNS address; the second instance (if given)</span><br><span class=\"line\"># specifies the secondary DNS address.</span><br><span class=\"line\"># Attention! This information may not be taken into account by a Windows</span><br><span class=\"line\"># client. See KB311218 in Microsoft&apos;s knowledge base for more information.</span><br><span class=\"line\">ms-dns 8.8.8.8</span><br><span class=\"line\">ms-dns 8.8.4.4</span><br></pre></td></tr></table></figure>\n<h3 id=\"三、开启内核IP转发\"><a href=\"#三、开启内核IP转发\" class=\"headerlink\" title=\"三、开启内核IP转发\"></a>三、开启内核IP转发</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/sysctl.conf</span><br></pre></td></tr></table></figure>\n<p>取消注释<code>net.ipv4.ip_forward=1</code>，修改配置保存，执行如下语句是配置修改生效<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo sysctl -p</span><br></pre></td></tr></table></figure></p>\n<p>注：如下命令也可以开启内核的IP转发功能，但是据说重启后将恢复关闭内核IP转发，具体原理未细究<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo 1 &gt; /proc/sys/net/ipv4/ip_forward</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"四、配置IP转发规则\"><a href=\"#四、配置IP转发规则\" class=\"headerlink\" title=\"四、配置IP转发规则\"></a>四、配置IP转发规则</h3><p>安装iptables，配置NAT转发规则<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install iptables</span><br><span class=\"line\">sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -o ens3 -j MASQUERADE</span><br></pre></td></tr></table></figure></p>\n<p>第二行命令应该是指将 <code>192.168.0.xxx(192.168.0.0/24)</code>的子网的所有ip包都做该的nat的转发规则转发到ens3的网卡上，ens3是本文中服务器上连接外网的网卡设备名，本文使用的VPS服务器的外网网卡为ens3，其他环境中该名字以ifconfig中外网网卡的名称为准</p>\n<p>重启服务，应用配置<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo service pptpd restart</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"五、开机启动生效NAT转发规则和启动pptpd\"><a href=\"#五、开机启动生效NAT转发规则和启动pptpd\" class=\"headerlink\" title=\"五、开机启动生效NAT转发规则和启动pptpd\"></a>五、开机启动生效NAT转发规则和启动pptpd</h3><p>设置开机启动<br>打开/etc/rc.local文件，在exit 0语句前加入：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -o ens3 -j MASQUERADE</span><br><span class=\"line\">sudo service pptpd start</span><br></pre></td></tr></table></figure></p>\n"},{"title":"搭建VPN服务之IPSec","_content":"在vutlr的VPS上搭建好PPTP的VPN服务后，迫不及待的准备试用一下时，发现：\n- PPTP在安卓手机上可以使用手机自带的VPN客户端整常登录浏览google\n- Mac系统(10.13.3)居然抛弃PPTP的自带客户端，只有自带IPSec的客户端了\n- Mac上好用的PPTP客户端，Shimo试用版可登录VPN服务整常使用，但试用期过后要收费59刀，破解版安装运行提示文件损坏无法使用\n- 怕其他第三方的PPTP客户端不靠谱\n\n基于以上原因想干脆在VPS上再搭建一个IPSec的VPN算了,搜了一下strongswan貌似可用，那么就愉快的决定开始实验咯\n\n### 零、主机环境\n```\nvutlr VPS + Ubuntu 16.04\n```\n\n### 一、安装IPSec服务程序\n```\napt-get update\napt-get install strongswan strongswan-plugin-xauth-generic\n```\n\n### 二、配置IPSec服务程序\n配置IPSec共享密钥、用户名和密码\n```\nvi /etc/ipsec.secrets\n```\n在配置文件中增加\n```\n: PSK \"test\"\nusername : XAUTH \"password\"\n```\nPSK字段的值是预共享密钥，将test换成你想要的共享密钥值，username和password换成你想要的用户名和密码，在IPSec的客户端登录时会需要使用这三个信息\n\n配置IPSec内部路由\n```\nvi /etc/ipsec.conf\n```\n配置后该配置文件配置项内容如下\n```\nconfig setup\n    cachecrls=yes\n    uniqueids=yes\n\nconn ios\n    keyexchange=ikev1\n    authby=xauthpsk\n    xauth=server\n    left=%defaultroute\n    leftsubnet=0.0.0.0/0\n    leftfirewall=yes\n    right=%any\n    rightsubnet=0.0.0.0/0\n    rightsourceip=192.168.100.1/24\n    rightdns=8.8.8.8\n    auto=add\n```\n\n注：由于本文的VPS上已搭建了PPTP（内部网络192.168.0.1/24），为防止NAT转发时可能的冲突，本文的strongswan的内部网络选用了192.168.100.1/24\n\n重启strongswan服务\n```\nipsec restart\n```\n\n### 三、配置IP转发\n原理同PPTP中的内核IP转发规则的配置相同\n打开内核IP转发功能\n```\nsysctl net.ipv4.ip_forward=1\n```\n配置转发规则（假设已将安装了iptables，没有的话参考PPTP的安装）\n```\niptables -t nat -A POSTROUTING -s 192.168.100.1/24 -o ens3 -j MASQUERADE\n```\n这行命令应该是指将 `192.168.100.xxx(192.168.100.1/24)`的子网的所有ip包都做该的nat的转发规则转发到ens3的网卡上，ens3是本文中服务器上连接外网的网卡设备名，本文使用的VPS服务器的外网网卡为ens3，其他环境中该名字以ifconfig中外网网卡的名称为准\n\n### 四、开机启动生效NAT转发规则和启动IPSec\n设置开机启动\n打开/etc/rc.local文件，在exit 0语句前加入：\n```\nsudo iptables -t nat -A POSTROUTING -s 192.168.100.1/24 -o ens3 -j MASQUERADE\nsudo service ipsec restart\n```","source":"_posts/2018-03-18-IPSec.md","raw":"---\ntitle: 搭建VPN服务之IPSec\ncategories: 技术\ntags: VPN\n---\n在vutlr的VPS上搭建好PPTP的VPN服务后，迫不及待的准备试用一下时，发现：\n- PPTP在安卓手机上可以使用手机自带的VPN客户端整常登录浏览google\n- Mac系统(10.13.3)居然抛弃PPTP的自带客户端，只有自带IPSec的客户端了\n- Mac上好用的PPTP客户端，Shimo试用版可登录VPN服务整常使用，但试用期过后要收费59刀，破解版安装运行提示文件损坏无法使用\n- 怕其他第三方的PPTP客户端不靠谱\n\n基于以上原因想干脆在VPS上再搭建一个IPSec的VPN算了,搜了一下strongswan貌似可用，那么就愉快的决定开始实验咯\n\n### 零、主机环境\n```\nvutlr VPS + Ubuntu 16.04\n```\n\n### 一、安装IPSec服务程序\n```\napt-get update\napt-get install strongswan strongswan-plugin-xauth-generic\n```\n\n### 二、配置IPSec服务程序\n配置IPSec共享密钥、用户名和密码\n```\nvi /etc/ipsec.secrets\n```\n在配置文件中增加\n```\n: PSK \"test\"\nusername : XAUTH \"password\"\n```\nPSK字段的值是预共享密钥，将test换成你想要的共享密钥值，username和password换成你想要的用户名和密码，在IPSec的客户端登录时会需要使用这三个信息\n\n配置IPSec内部路由\n```\nvi /etc/ipsec.conf\n```\n配置后该配置文件配置项内容如下\n```\nconfig setup\n    cachecrls=yes\n    uniqueids=yes\n\nconn ios\n    keyexchange=ikev1\n    authby=xauthpsk\n    xauth=server\n    left=%defaultroute\n    leftsubnet=0.0.0.0/0\n    leftfirewall=yes\n    right=%any\n    rightsubnet=0.0.0.0/0\n    rightsourceip=192.168.100.1/24\n    rightdns=8.8.8.8\n    auto=add\n```\n\n注：由于本文的VPS上已搭建了PPTP（内部网络192.168.0.1/24），为防止NAT转发时可能的冲突，本文的strongswan的内部网络选用了192.168.100.1/24\n\n重启strongswan服务\n```\nipsec restart\n```\n\n### 三、配置IP转发\n原理同PPTP中的内核IP转发规则的配置相同\n打开内核IP转发功能\n```\nsysctl net.ipv4.ip_forward=1\n```\n配置转发规则（假设已将安装了iptables，没有的话参考PPTP的安装）\n```\niptables -t nat -A POSTROUTING -s 192.168.100.1/24 -o ens3 -j MASQUERADE\n```\n这行命令应该是指将 `192.168.100.xxx(192.168.100.1/24)`的子网的所有ip包都做该的nat的转发规则转发到ens3的网卡上，ens3是本文中服务器上连接外网的网卡设备名，本文使用的VPS服务器的外网网卡为ens3，其他环境中该名字以ifconfig中外网网卡的名称为准\n\n### 四、开机启动生效NAT转发规则和启动IPSec\n设置开机启动\n打开/etc/rc.local文件，在exit 0语句前加入：\n```\nsudo iptables -t nat -A POSTROUTING -s 192.168.100.1/24 -o ens3 -j MASQUERADE\nsudo service ipsec restart\n```","slug":"2018-03-18-IPSec","published":1,"date":"2018-07-26T16:01:28.056Z","updated":"2018-07-26T16:20:50.984Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjk2rtnfp0004y7y2uqq3mcew","content":"<p>在vutlr的VPS上搭建好PPTP的VPN服务后，迫不及待的准备试用一下时，发现：</p>\n<ul>\n<li>PPTP在安卓手机上可以使用手机自带的VPN客户端整常登录浏览google</li>\n<li>Mac系统(10.13.3)居然抛弃PPTP的自带客户端，只有自带IPSec的客户端了</li>\n<li>Mac上好用的PPTP客户端，Shimo试用版可登录VPN服务整常使用，但试用期过后要收费59刀，破解版安装运行提示文件损坏无法使用</li>\n<li>怕其他第三方的PPTP客户端不靠谱</li>\n</ul>\n<p>基于以上原因想干脆在VPS上再搭建一个IPSec的VPN算了,搜了一下strongswan貌似可用，那么就愉快的决定开始实验咯</p>\n<h3 id=\"零、主机环境\"><a href=\"#零、主机环境\" class=\"headerlink\" title=\"零、主机环境\"></a>零、主机环境</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vutlr VPS + Ubuntu 16.04</span><br></pre></td></tr></table></figure>\n<h3 id=\"一、安装IPSec服务程序\"><a href=\"#一、安装IPSec服务程序\" class=\"headerlink\" title=\"一、安装IPSec服务程序\"></a>一、安装IPSec服务程序</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get update</span><br><span class=\"line\">apt-get install strongswan strongswan-plugin-xauth-generic</span><br></pre></td></tr></table></figure>\n<h3 id=\"二、配置IPSec服务程序\"><a href=\"#二、配置IPSec服务程序\" class=\"headerlink\" title=\"二、配置IPSec服务程序\"></a>二、配置IPSec服务程序</h3><p>配置IPSec共享密钥、用户名和密码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/ipsec.secrets</span><br></pre></td></tr></table></figure></p>\n<p>在配置文件中增加<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">: PSK &quot;test&quot;</span><br><span class=\"line\">username : XAUTH &quot;password&quot;</span><br></pre></td></tr></table></figure></p>\n<p>PSK字段的值是预共享密钥，将test换成你想要的共享密钥值，username和password换成你想要的用户名和密码，在IPSec的客户端登录时会需要使用这三个信息</p>\n<p>配置IPSec内部路由<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/ipsec.conf</span><br></pre></td></tr></table></figure></p>\n<p>配置后该配置文件配置项内容如下<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config setup</span><br><span class=\"line\">    cachecrls=yes</span><br><span class=\"line\">    uniqueids=yes</span><br><span class=\"line\"></span><br><span class=\"line\">conn ios</span><br><span class=\"line\">    keyexchange=ikev1</span><br><span class=\"line\">    authby=xauthpsk</span><br><span class=\"line\">    xauth=server</span><br><span class=\"line\">    left=%defaultroute</span><br><span class=\"line\">    leftsubnet=0.0.0.0/0</span><br><span class=\"line\">    leftfirewall=yes</span><br><span class=\"line\">    right=%any</span><br><span class=\"line\">    rightsubnet=0.0.0.0/0</span><br><span class=\"line\">    rightsourceip=192.168.100.1/24</span><br><span class=\"line\">    rightdns=8.8.8.8</span><br><span class=\"line\">    auto=add</span><br></pre></td></tr></table></figure></p>\n<p>注：由于本文的VPS上已搭建了PPTP（内部网络192.168.0.1/24），为防止NAT转发时可能的冲突，本文的strongswan的内部网络选用了192.168.100.1/24</p>\n<p>重启strongswan服务<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ipsec restart</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"三、配置IP转发\"><a href=\"#三、配置IP转发\" class=\"headerlink\" title=\"三、配置IP转发\"></a>三、配置IP转发</h3><p>原理同PPTP中的内核IP转发规则的配置相同<br>打开内核IP转发功能<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sysctl net.ipv4.ip_forward=1</span><br></pre></td></tr></table></figure></p>\n<p>配置转发规则（假设已将安装了iptables，没有的话参考PPTP的安装）<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iptables -t nat -A POSTROUTING -s 192.168.100.1/24 -o ens3 -j MASQUERADE</span><br></pre></td></tr></table></figure></p>\n<p>这行命令应该是指将 <code>192.168.100.xxx(192.168.100.1/24)</code>的子网的所有ip包都做该的nat的转发规则转发到ens3的网卡上，ens3是本文中服务器上连接外网的网卡设备名，本文使用的VPS服务器的外网网卡为ens3，其他环境中该名字以ifconfig中外网网卡的名称为准</p>\n<h3 id=\"四、开机启动生效NAT转发规则和启动IPSec\"><a href=\"#四、开机启动生效NAT转发规则和启动IPSec\" class=\"headerlink\" title=\"四、开机启动生效NAT转发规则和启动IPSec\"></a>四、开机启动生效NAT转发规则和启动IPSec</h3><p>设置开机启动<br>打开/etc/rc.local文件，在exit 0语句前加入：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo iptables -t nat -A POSTROUTING -s 192.168.100.1/24 -o ens3 -j MASQUERADE</span><br><span class=\"line\">sudo service ipsec restart</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<p>在vutlr的VPS上搭建好PPTP的VPN服务后，迫不及待的准备试用一下时，发现：</p>\n<ul>\n<li>PPTP在安卓手机上可以使用手机自带的VPN客户端整常登录浏览google</li>\n<li>Mac系统(10.13.3)居然抛弃PPTP的自带客户端，只有自带IPSec的客户端了</li>\n<li>Mac上好用的PPTP客户端，Shimo试用版可登录VPN服务整常使用，但试用期过后要收费59刀，破解版安装运行提示文件损坏无法使用</li>\n<li>怕其他第三方的PPTP客户端不靠谱</li>\n</ul>\n<p>基于以上原因想干脆在VPS上再搭建一个IPSec的VPN算了,搜了一下strongswan貌似可用，那么就愉快的决定开始实验咯</p>\n<h3 id=\"零、主机环境\"><a href=\"#零、主机环境\" class=\"headerlink\" title=\"零、主机环境\"></a>零、主机环境</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vutlr VPS + Ubuntu 16.04</span><br></pre></td></tr></table></figure>\n<h3 id=\"一、安装IPSec服务程序\"><a href=\"#一、安装IPSec服务程序\" class=\"headerlink\" title=\"一、安装IPSec服务程序\"></a>一、安装IPSec服务程序</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get update</span><br><span class=\"line\">apt-get install strongswan strongswan-plugin-xauth-generic</span><br></pre></td></tr></table></figure>\n<h3 id=\"二、配置IPSec服务程序\"><a href=\"#二、配置IPSec服务程序\" class=\"headerlink\" title=\"二、配置IPSec服务程序\"></a>二、配置IPSec服务程序</h3><p>配置IPSec共享密钥、用户名和密码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/ipsec.secrets</span><br></pre></td></tr></table></figure></p>\n<p>在配置文件中增加<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">: PSK &quot;test&quot;</span><br><span class=\"line\">username : XAUTH &quot;password&quot;</span><br></pre></td></tr></table></figure></p>\n<p>PSK字段的值是预共享密钥，将test换成你想要的共享密钥值，username和password换成你想要的用户名和密码，在IPSec的客户端登录时会需要使用这三个信息</p>\n<p>配置IPSec内部路由<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/ipsec.conf</span><br></pre></td></tr></table></figure></p>\n<p>配置后该配置文件配置项内容如下<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config setup</span><br><span class=\"line\">    cachecrls=yes</span><br><span class=\"line\">    uniqueids=yes</span><br><span class=\"line\"></span><br><span class=\"line\">conn ios</span><br><span class=\"line\">    keyexchange=ikev1</span><br><span class=\"line\">    authby=xauthpsk</span><br><span class=\"line\">    xauth=server</span><br><span class=\"line\">    left=%defaultroute</span><br><span class=\"line\">    leftsubnet=0.0.0.0/0</span><br><span class=\"line\">    leftfirewall=yes</span><br><span class=\"line\">    right=%any</span><br><span class=\"line\">    rightsubnet=0.0.0.0/0</span><br><span class=\"line\">    rightsourceip=192.168.100.1/24</span><br><span class=\"line\">    rightdns=8.8.8.8</span><br><span class=\"line\">    auto=add</span><br></pre></td></tr></table></figure></p>\n<p>注：由于本文的VPS上已搭建了PPTP（内部网络192.168.0.1/24），为防止NAT转发时可能的冲突，本文的strongswan的内部网络选用了192.168.100.1/24</p>\n<p>重启strongswan服务<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ipsec restart</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"三、配置IP转发\"><a href=\"#三、配置IP转发\" class=\"headerlink\" title=\"三、配置IP转发\"></a>三、配置IP转发</h3><p>原理同PPTP中的内核IP转发规则的配置相同<br>打开内核IP转发功能<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sysctl net.ipv4.ip_forward=1</span><br></pre></td></tr></table></figure></p>\n<p>配置转发规则（假设已将安装了iptables，没有的话参考PPTP的安装）<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iptables -t nat -A POSTROUTING -s 192.168.100.1/24 -o ens3 -j MASQUERADE</span><br></pre></td></tr></table></figure></p>\n<p>这行命令应该是指将 <code>192.168.100.xxx(192.168.100.1/24)</code>的子网的所有ip包都做该的nat的转发规则转发到ens3的网卡上，ens3是本文中服务器上连接外网的网卡设备名，本文使用的VPS服务器的外网网卡为ens3，其他环境中该名字以ifconfig中外网网卡的名称为准</p>\n<h3 id=\"四、开机启动生效NAT转发规则和启动IPSec\"><a href=\"#四、开机启动生效NAT转发规则和启动IPSec\" class=\"headerlink\" title=\"四、开机启动生效NAT转发规则和启动IPSec\"></a>四、开机启动生效NAT转发规则和启动IPSec</h3><p>设置开机启动<br>打开/etc/rc.local文件，在exit 0语句前加入：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo iptables -t nat -A POSTROUTING -s 192.168.100.1/24 -o ens3 -j MASQUERADE</span><br><span class=\"line\">sudo service ipsec restart</span><br></pre></td></tr></table></figure></p>\n"},{"title":"内网穿透之frps与frpc","_content":"### 在VPS上配置frps.ini\n```\n[common]\nbind_port = 7777\n#vhost_http_port网站访问端口\nvhost_http_port = 80\n#vhost_https_port = 443\n#dashboard_port状态以及代理统计信息展示,网址:7500可查看详情\ndashboard_port = 6443\nlog_file = ./frps.log\nlog_level = info\nlog_max_days = 3\n#privilege_mode 特权模式,开通后web,ssh等使用都可以直接在客户端设置\nprivilege_mode = true\n#特权连接密码\nprivilege_token = 12345qwert\n#max_pool_count最大链接池,每个代理预先与后端服务器建立起指定数量的最大链接数\nmax_pool_count = 50\n```\n\n### 在NAS上配置frpc.ini\n```\n[common]\nserver_addr = 换成frps所在的服务器IP\n#要与frps.ini中的bind_port一样\nserver_port = 7777\nlog_file = ./frpc.log\nlog_level = info\nlog_max_days = 3\n#特权连接密码,要与frps.ini的一样\nprivilege_token = 12345qwert\n\n[ssh]\nprivilege_mode = true\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 22\nremote_port = 6022\nuse_gzip = true\nuse_encryption = true\npool_count = 2\n#访问方式 ssh -oPort=6022 test@x.x.x.x\n#访问方式 ssh -p 6022 test@x.x.x.x\n\n[nas]\nprivilege_mode = true\ntype = http\nlocal_ip = 127.0.0.1\nlocal_port = 5000\n#custom_domains域名\ncustom_domains = nas.xrr.fun\npool_count = 10\n#访问方式 http://nas.xrr.fun\n\n[ws]\nprivilege_mode = true\ntype = http\nlocal_ip = 127.0.0.1\nlocal_port = 8888\ncustom_domains = ws.xrr.fun\npool_count = 10\n#访问方式 http://ws.xrr.fun\n```\n","source":"_posts/2018-03-19-frp.md","raw":"---\ntitle: 内网穿透之frps与frpc\ncategories: 技术\ntags: 内网穿透\n---\n### 在VPS上配置frps.ini\n```\n[common]\nbind_port = 7777\n#vhost_http_port网站访问端口\nvhost_http_port = 80\n#vhost_https_port = 443\n#dashboard_port状态以及代理统计信息展示,网址:7500可查看详情\ndashboard_port = 6443\nlog_file = ./frps.log\nlog_level = info\nlog_max_days = 3\n#privilege_mode 特权模式,开通后web,ssh等使用都可以直接在客户端设置\nprivilege_mode = true\n#特权连接密码\nprivilege_token = 12345qwert\n#max_pool_count最大链接池,每个代理预先与后端服务器建立起指定数量的最大链接数\nmax_pool_count = 50\n```\n\n### 在NAS上配置frpc.ini\n```\n[common]\nserver_addr = 换成frps所在的服务器IP\n#要与frps.ini中的bind_port一样\nserver_port = 7777\nlog_file = ./frpc.log\nlog_level = info\nlog_max_days = 3\n#特权连接密码,要与frps.ini的一样\nprivilege_token = 12345qwert\n\n[ssh]\nprivilege_mode = true\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 22\nremote_port = 6022\nuse_gzip = true\nuse_encryption = true\npool_count = 2\n#访问方式 ssh -oPort=6022 test@x.x.x.x\n#访问方式 ssh -p 6022 test@x.x.x.x\n\n[nas]\nprivilege_mode = true\ntype = http\nlocal_ip = 127.0.0.1\nlocal_port = 5000\n#custom_domains域名\ncustom_domains = nas.xrr.fun\npool_count = 10\n#访问方式 http://nas.xrr.fun\n\n[ws]\nprivilege_mode = true\ntype = http\nlocal_ip = 127.0.0.1\nlocal_port = 8888\ncustom_domains = ws.xrr.fun\npool_count = 10\n#访问方式 http://ws.xrr.fun\n```\n","slug":"2018-03-19-frp","published":1,"date":"2018-07-26T16:01:28.056Z","updated":"2018-07-26T16:17:16.638Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjk2rtnfq0005y7y2q5mv7tn6","content":"<h3 id=\"在VPS上配置frps-ini\"><a href=\"#在VPS上配置frps-ini\" class=\"headerlink\" title=\"在VPS上配置frps.ini\"></a>在VPS上配置frps.ini</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[common]</span><br><span class=\"line\">bind_port = 7777</span><br><span class=\"line\">#vhost_http_port网站访问端口</span><br><span class=\"line\">vhost_http_port = 80</span><br><span class=\"line\">#vhost_https_port = 443</span><br><span class=\"line\">#dashboard_port状态以及代理统计信息展示,网址:7500可查看详情</span><br><span class=\"line\">dashboard_port = 6443</span><br><span class=\"line\">log_file = ./frps.log</span><br><span class=\"line\">log_level = info</span><br><span class=\"line\">log_max_days = 3</span><br><span class=\"line\">#privilege_mode 特权模式,开通后web,ssh等使用都可以直接在客户端设置</span><br><span class=\"line\">privilege_mode = true</span><br><span class=\"line\">#特权连接密码</span><br><span class=\"line\">privilege_token = 12345qwert</span><br><span class=\"line\">#max_pool_count最大链接池,每个代理预先与后端服务器建立起指定数量的最大链接数</span><br><span class=\"line\">max_pool_count = 50</span><br></pre></td></tr></table></figure>\n<h3 id=\"在NAS上配置frpc-ini\"><a href=\"#在NAS上配置frpc-ini\" class=\"headerlink\" title=\"在NAS上配置frpc.ini\"></a>在NAS上配置frpc.ini</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[common]</span><br><span class=\"line\">server_addr = 换成frps所在的服务器IP</span><br><span class=\"line\">#要与frps.ini中的bind_port一样</span><br><span class=\"line\">server_port = 7777</span><br><span class=\"line\">log_file = ./frpc.log</span><br><span class=\"line\">log_level = info</span><br><span class=\"line\">log_max_days = 3</span><br><span class=\"line\">#特权连接密码,要与frps.ini的一样</span><br><span class=\"line\">privilege_token = 12345qwert</span><br><span class=\"line\"></span><br><span class=\"line\">[ssh]</span><br><span class=\"line\">privilege_mode = true</span><br><span class=\"line\">type = tcp</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">local_port = 22</span><br><span class=\"line\">remote_port = 6022</span><br><span class=\"line\">use_gzip = true</span><br><span class=\"line\">use_encryption = true</span><br><span class=\"line\">pool_count = 2</span><br><span class=\"line\">#访问方式 ssh -oPort=6022 test@x.x.x.x</span><br><span class=\"line\">#访问方式 ssh -p 6022 test@x.x.x.x</span><br><span class=\"line\"></span><br><span class=\"line\">[nas]</span><br><span class=\"line\">privilege_mode = true</span><br><span class=\"line\">type = http</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">local_port = 5000</span><br><span class=\"line\">#custom_domains域名</span><br><span class=\"line\">custom_domains = nas.xrr.fun</span><br><span class=\"line\">pool_count = 10</span><br><span class=\"line\">#访问方式 http://nas.xrr.fun</span><br><span class=\"line\"></span><br><span class=\"line\">[ws]</span><br><span class=\"line\">privilege_mode = true</span><br><span class=\"line\">type = http</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">local_port = 8888</span><br><span class=\"line\">custom_domains = ws.xrr.fun</span><br><span class=\"line\">pool_count = 10</span><br><span class=\"line\">#访问方式 http://ws.xrr.fun</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"在VPS上配置frps-ini\"><a href=\"#在VPS上配置frps-ini\" class=\"headerlink\" title=\"在VPS上配置frps.ini\"></a>在VPS上配置frps.ini</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[common]</span><br><span class=\"line\">bind_port = 7777</span><br><span class=\"line\">#vhost_http_port网站访问端口</span><br><span class=\"line\">vhost_http_port = 80</span><br><span class=\"line\">#vhost_https_port = 443</span><br><span class=\"line\">#dashboard_port状态以及代理统计信息展示,网址:7500可查看详情</span><br><span class=\"line\">dashboard_port = 6443</span><br><span class=\"line\">log_file = ./frps.log</span><br><span class=\"line\">log_level = info</span><br><span class=\"line\">log_max_days = 3</span><br><span class=\"line\">#privilege_mode 特权模式,开通后web,ssh等使用都可以直接在客户端设置</span><br><span class=\"line\">privilege_mode = true</span><br><span class=\"line\">#特权连接密码</span><br><span class=\"line\">privilege_token = 12345qwert</span><br><span class=\"line\">#max_pool_count最大链接池,每个代理预先与后端服务器建立起指定数量的最大链接数</span><br><span class=\"line\">max_pool_count = 50</span><br></pre></td></tr></table></figure>\n<h3 id=\"在NAS上配置frpc-ini\"><a href=\"#在NAS上配置frpc-ini\" class=\"headerlink\" title=\"在NAS上配置frpc.ini\"></a>在NAS上配置frpc.ini</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[common]</span><br><span class=\"line\">server_addr = 换成frps所在的服务器IP</span><br><span class=\"line\">#要与frps.ini中的bind_port一样</span><br><span class=\"line\">server_port = 7777</span><br><span class=\"line\">log_file = ./frpc.log</span><br><span class=\"line\">log_level = info</span><br><span class=\"line\">log_max_days = 3</span><br><span class=\"line\">#特权连接密码,要与frps.ini的一样</span><br><span class=\"line\">privilege_token = 12345qwert</span><br><span class=\"line\"></span><br><span class=\"line\">[ssh]</span><br><span class=\"line\">privilege_mode = true</span><br><span class=\"line\">type = tcp</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">local_port = 22</span><br><span class=\"line\">remote_port = 6022</span><br><span class=\"line\">use_gzip = true</span><br><span class=\"line\">use_encryption = true</span><br><span class=\"line\">pool_count = 2</span><br><span class=\"line\">#访问方式 ssh -oPort=6022 test@x.x.x.x</span><br><span class=\"line\">#访问方式 ssh -p 6022 test@x.x.x.x</span><br><span class=\"line\"></span><br><span class=\"line\">[nas]</span><br><span class=\"line\">privilege_mode = true</span><br><span class=\"line\">type = http</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">local_port = 5000</span><br><span class=\"line\">#custom_domains域名</span><br><span class=\"line\">custom_domains = nas.xrr.fun</span><br><span class=\"line\">pool_count = 10</span><br><span class=\"line\">#访问方式 http://nas.xrr.fun</span><br><span class=\"line\"></span><br><span class=\"line\">[ws]</span><br><span class=\"line\">privilege_mode = true</span><br><span class=\"line\">type = http</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">local_port = 8888</span><br><span class=\"line\">custom_domains = ws.xrr.fun</span><br><span class=\"line\">pool_count = 10</span><br><span class=\"line\">#访问方式 http://ws.xrr.fun</span><br></pre></td></tr></table></figure>\n"},{"title":"搭建VPN服务之IPSec(二)","_content":"之前使用命令行逐步安装IPSec的折腾，后来发现在github上一键安装IPSec服务的安装脚本，有三种安装\b选项，见项目中安装说明即可。\n\n项目地址：https://github.com/hwdsl2/setup-ipsec-vpn","source":"_posts/2018-07-26-IPSec2.md","raw":"---\ntitle: 搭建VPN服务之IPSec(二)\ncategories: 技术\n---\n之前使用命令行逐步安装IPSec的折腾，后来发现在github上一键安装IPSec服务的安装脚本，有三种安装\b选项，见项目中安装说明即可。\n\n项目地址：https://github.com/hwdsl2/setup-ipsec-vpn","slug":"2018-07-26-IPSec2","published":1,"date":"2018-07-26T16:01:28.057Z","updated":"2018-07-26T16:11:55.338Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjk2rtnfr0006y7y2vdgnr3rv","content":"<p>之前使用命令行逐步安装IPSec的折腾，后来发现在github上一键安装IPSec服务的安装脚本，有三种安装\b选项，见项目中安装说明即可。</p>\n<p>项目地址：<a href=\"https://github.com/hwdsl2/setup-ipsec-vpn\" target=\"_blank\" rel=\"noopener\">https://github.com/hwdsl2/setup-ipsec-vpn</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>之前使用命令行逐步安装IPSec的折腾，后来发现在github上一键安装IPSec服务的安装脚本，有三种安装\b选项，见项目中安装说明即可。</p>\n<p>项目地址：<a href=\"https://github.com/hwdsl2/setup-ipsec-vpn\" target=\"_blank\" rel=\"noopener\">https://github.com/hwdsl2/setup-ipsec-vpn</a></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cjk2rtnfq0005y7y2q5mv7tn6","category_id":"cjk2rtnfn0002y7y29gc0hfax","_id":"cjk2rtnfv000ay7y2v8961mnm"},{"post_id":"cjk2rtnfh0000y7y29awexhhe","category_id":"cjk2rtnfn0002y7y29gc0hfax","_id":"cjk2rtnfw000dy7y2c9lxs2ir"},{"post_id":"cjk2rtnfr0006y7y2vdgnr3rv","category_id":"cjk2rtnfn0002y7y29gc0hfax","_id":"cjk2rtnfw000fy7y2jn6wrymb"},{"post_id":"cjk2rtnfl0001y7y22mfl3y1i","category_id":"cjk2rtnfn0002y7y29gc0hfax","_id":"cjk2rtnfw000hy7y2cfpf78m9"},{"post_id":"cjk2rtnfp0004y7y2uqq3mcew","category_id":"cjk2rtnfn0002y7y29gc0hfax","_id":"cjk2rtnfx000jy7y2vusc429g"}],"PostTag":[{"post_id":"cjk2rtnfh0000y7y29awexhhe","tag_id":"cjk2rtnfo0003y7y209lpmfjr","_id":"cjk2rtnfu0009y7y26oloavhf"},{"post_id":"cjk2rtnfl0001y7y22mfl3y1i","tag_id":"cjk2rtnfs0008y7y2o8pg23dr","_id":"cjk2rtnfw000ey7y2r9u7jp4s"},{"post_id":"cjk2rtnfp0004y7y2uqq3mcew","tag_id":"cjk2rtnfs0008y7y2o8pg23dr","_id":"cjk2rtnfx000iy7y2izzauyk6"},{"post_id":"cjk2rtnfq0005y7y2q5mv7tn6","tag_id":"cjk2rtnfw000gy7y2nyr3rzw9","_id":"cjk2rtnfx000ky7y2ukzx8hna"}],"Tag":[{"name":"hexo","_id":"cjk2rtnfo0003y7y209lpmfjr"},{"name":"VPN","_id":"cjk2rtnfs0008y7y2o8pg23dr"},{"name":"内网穿透","_id":"cjk2rtnfw000gy7y2nyr3rzw9"}]}}